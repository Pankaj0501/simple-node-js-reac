pipeline {
  agent any
  tools {nodejs "Node"}

  
   stages {
    stage('Build'){
	  steps {
	  git 'https://github.com/Pankaj0501/simple-node-js-reac.git'
	  sh 'npm install'
    sh 'npm run build'
    sh 'npm test'
	  
	  }

	}

  stage("Upload @planetcast") {
            steps {
                withAWS(region:"us-east-2", credentials:"AWS") {
                   s3Upload(file:"build", bucket:"reactapprepo", path:"${env.BRANCH_NAME}")
                }
                }    
            }
   }
     
 }
                   

                
            

